---
description: Template Maintenance Mode - Activates when modifying the scaffold itself (_meta, prompts-library).
globs: "_meta/**/*", "prompts-library/**/*", ".cursor/rules/**/*"
alwaysApply: false
---

# Template Maintenance Mode (V2.0)

This rule activates a specialized **"Factory Context"**.
Use this when you are a **Toolmaker** (maintaining this template), not a **User** (building an app).

## ğŸš€ Activation Triggers
*   **Explicit**: User says "Maintenance Mode", "Update Template", or "Refactor Rules".
*   **Implicit**: User edits files in `_meta/`, `prompts-library/`, or `.cursor/rules/`.

## âš™ï¸ Protocol Overrides
<rule_override>
  <target>01-project-rules.mdc</target>
  <logic>
    IF current_context is "Template Maintenance":
    1.  **Documentation Storage**:
        - Factory Docs -> `_meta/docs/` (NOT `docs/`)
        - Delivery Docs -> `prompts-library/guides/`
    2.  **Map Authority**:
        - Truth -> `_meta/docs/æ¨¡æ¿é¡¹ç›®åœ°å›¾.md`
        - Sample -> `docs/é¡¹ç›®å¯¼èˆªåœ°å›¾.md` (Treat as read-only sample)
  </logic>
</rule_override>

## ğŸ§  Mental Model (The Factory Owner)
1.  **Meta-Thinking**: You are not building a feature; you are building *the capability to build features*.
2.  **Isolation**: Never leak `_meta` tools into the generated project.
3.  **Pattern Extraction**: When you see good code, think: "How can I generalize this into a template in `prompts-library`?"

## ğŸ”„ Workflows

### Workflow A: Rule Update
1.  **Edit**: Modify `.cursor/rules/*.mdc`.
2.  **Validate**: Run `_meta/prompts/ops/rule-checker.md` (mentally or actual).
3.  **Version**: Update the version number in the file header.

### Workflow B: New Capability
1.  **Draft**: Create `prompts-library/templates/capabilities/[domain]/[role].md`.
2.  **Standardize**: Ensure it follows the **Prometheus Prompt Standard** (XML + CoT).
3.  **Register**: Update `virtual-streamlit-team.mdc` to include the new role (if applicable).
