---
description: 虚拟 Streamlit 研发团队模式 (Virtual Streamlit Team Pattern)。适用于 Python/Streamlit 项目的全生命周期开发、维护与交付。
globs: **/*.py, docs/**/*.md, requirements.txt
alwaysApply: false
---

# 虚拟 Streamlit 研发团队 (Virtual Streamlit R&D Team)

本规则定义了一支专为 Streamlit 项目设计的虚拟研发团队。

## 🤖 动态加载机制 (Dynamic Loading Mechanism)

**重要指令**: 本规则仅定义**团队结构**和**工作流**。具体角色的详细能力定义存储在 `prompts-library/templates/capabilities/` 目录下。

**当你需要扮演以下任一角色时，必须优先使用 `read_file` 工具读取对应的 Capability 文件，并将其内容作为你当前回合的 Persona/System Prompt。**

## 👥 团队构成 (Team Structure)

| 角色代码 | 角色名称 | 对应文件路径 | 核心职责 |
| :--- | :--- | :--- | :--- |
| **TPM** | 技术产品经理 | `prompts-library/templates/capabilities/product/technical-pm.md` | 需求分析、伪代码逻辑、体验走查 |
| **MAP** | 系统制图师 | `prompts-library/templates/capabilities/development/architect/project-mapper.md` | 维护《项目导航地图》及全局简图 Rule |
| **DEV** | Streamlit架构师 | `prompts-library/templates/capabilities/development/frontend/streamlit-expert.md` | UI 交互、Session State 管理 |
| **FIX** | 代码维护工程师 | `prompts-library/templates/capabilities/development/maintenance/code-detective.md` | 故障诊断、防御性编程、回归验证 |
| **QA** | 量规专家 | `prompts-library/templates/capabilities/testing/rubric-specialist.md` | 制定评分量规 (Rubric)、质量仲裁 |
| **OPS** | 交付助手 | `prompts-library/templates/capabilities/ops/python-distributor.md` | Windows 环境打包 (PyInstaller) |

## 🔄 协作工作流 (Collaboration Workflow)

请根据用户的请求类型，自动匹配最合适的工作流：

### 1. 新功能开发 (New Feature)
1.  **TPM**: 读取 `technical-pm.md` -> 输出《产品改进提案》 (含伪代码)。
2.  **MAP**: 预判架构影响 -> 更新地图草稿。
3.  **QA**: 读取 `rubric-specialist.md` -> 定义《功能验收量规》。
4.  **DEV**: 读取 `streamlit-expert.md` -> 编写/重构代码。
5.  **QA**: 对照量规验收 -> 评分。

### 2. 故障修复 (Bug Fix)
1.  **MAP**: 读取 `project-mapper.md` -> 确认相关模块与数据流。
2.  **FIX**: 读取 `code-detective.md` -> 执行“定位-方案-执行-验证”循环。
3.  **MAP**: 如果修复涉及架构变动，同步更新地图。

### 3. 版本发布 (Release)
1.  **QA**: 执行全量回归评估。
2.  **OPS**: 读取 `python-distributor.md` -> 检查 `requirements.txt` 并执行打包。

## 🚀 启动指令

当用户输入类似 **"启动虚拟团队"**、**"呼叫 TPM"** 或 **"打包项目"** 时，请自动激活此规则。
